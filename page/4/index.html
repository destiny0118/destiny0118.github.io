<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha256-5eIC48iZUHmSlSUz9XtjRyK2mzQkHScZY1WdMaoz74E=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"destiny0118.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.21.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":false,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="凡是过去，皆为序章。">
<meta property="og:type" content="website">
<meta property="og:title" content="我的个人博客">
<meta property="og:url" content="https://destiny0118.github.io/page/4/index.html">
<meta property="og:site_name" content="我的个人博客">
<meta property="og:description" content="凡是过去，皆为序章。">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Destiny">
<meta property="article:tag" content="算法，工具">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://destiny0118.github.io/page/4/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/4/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>我的个人博客</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">我的个人博客</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">What past is prolgue.</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Destiny</p>
  <div class="site-description" itemprop="description">凡是过去，皆为序章。</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">128</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">26</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://destiny0118.github.io/2024/06/30/%E7%AE%97%E6%B3%95/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%EF%BC%9A%E6%A0%91%E5%BD%A2DP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Destiny">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
      <meta itemprop="description" content="凡是过去，皆为序章。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 我的个人博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/30/%E7%AE%97%E6%B3%95/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%EF%BC%9A%E6%A0%91%E5%BD%A2DP/" class="post-title-link" itemprop="url">动态规划：树形DP</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2024-06-30 00:00:00 / 修改时间：23:09:20" itemprop="dateCreated datePublished" datetime="2024-06-30T00:00:00+08:00">2024-06-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/algorithm/" itemprop="url" rel="index"><span itemprop="name">算法</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="1-树的直径"><a class="markdownIt-Anchor" href="#1-树的直径"></a> 1 树的直径</h1>
<p><a href="https://leetcode.cn/problems/find-minimum-diameter-after-merging-two-trees/description/">100318. 合并两棵树后的最小直径 - 力扣（LeetCode）</a></p>
<h1 id="2-参考"><a class="markdownIt-Anchor" href="#2-参考"></a> 2 参考</h1>
<p><a href="https://www.bilibili.com/video/BV17o4y187h1/?vd_source=5427cf02c00273188250be648b53eced">树形 DP：树的直径【基础算法精讲 23】_哔哩哔哩_bilibili</a><br />
<a href="https://leetcode.cn/problems/jC7MId/description/">LCR 051. 二叉树中的最大路径和 - 力扣（LeetCode）</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://destiny0118.github.io/2024/06/11/Java/%E6%BA%90%E7%A0%81/HashMap%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Destiny">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
      <meta itemprop="description" content="凡是过去，皆为序章。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 我的个人博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/11/Java/%E6%BA%90%E7%A0%81/HashMap%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-06-11 17:22:03" itemprop="dateCreated datePublished" datetime="2024-06-11T17:22:03+08:00">2024-06-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-06-12 17:27:08" itemprop="dateModified" datetime="2024-06-12T17:27:08+08:00">2024-06-12</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="1-hashmap"><a class="markdownIt-Anchor" href="#1-hashmap"></a> 1 HashMap</h1>
<p>HashMap 主要用来存放键值对，它基于哈希表的 Map 接口实现，是常用的 Java 集合之一，是<strong>非线程安全的</strong>。</p>
<p><code>HashMap</code> 可以存储 null 的 key 和 value，但 null 作为键只能有一个，null 作为值可以有多个</p>
<p>JDK1.8 之前 HashMap 由 数组+链表 组成的，数组是 HashMap 的主体，链表则是主要为了解决哈希冲突而存在的（“拉链法”解决冲突）。 JDK1.8 以后的 <code>HashMap</code> 在解决哈希冲突时有了较大的变化，当链表长度大于等于阈值（默认为 8）（将链表转换成红黑树前会判断，如果当前数组的长度小于 64，那么会选择先进行数组扩容，而不是转换为红黑树）时，将链表转化为红黑树，以减少搜索时间。</p>
<p><code>HashMap</code> 默认的初始化大小为 16。之后每次扩充，容量变为原来的 2 倍。并且， <code>HashMap</code> 总是使用 2 的幂作为哈希表的大小。</p>
<h1 id="2-底层数据结构"><a class="markdownIt-Anchor" href="#2-底层数据结构"></a> 2 底层数据结构</h1>
<ul>
<li>
<p><strong>loadFactor 负载因子</strong><br />
loadFactor 负载因子是控制数组存放数据的疏密程度，loadFactor 越趋近于 1，那么 数组中存放的数据(entry)也就越多，也就越密，也就是会让链表的长度增加，loadFactor 越小，也就是趋近于 0，数组中存放的数据(entry)也就越少，也就越稀疏。</p>
<p><strong>loadFactor 太大导致查找元素效率低，太小导致数组的利用率低，存放的数据会很分散。loadFactor 的默认值为 0.75f 是官方给出的一个比较好的临界值</strong>。</p>
<p>给定的默认容量为 16，负载因子为 0.75。Map 在使用过程中不断的往里面存放数据，当数量超过了 16 * 0.75 = 12 就需要将当前 16 的容量进行扩容，而扩容这个过程涉及到 rehash、复制数据等操作，所以非常消耗性能。</p>
</li>
<li>
<p><strong>threshold</strong></p>
<p><strong>threshold = capacity * loadFactor</strong>，<strong>当 Size&gt;threshold</strong>的时候，那么就要考虑对数组的扩增了，也就是说，这个的意思就是 <strong>衡量数组是否需要扩增的一个标准</strong>。</p>
</li>
</ul>
<h1 id="3-hashmap源码分析"><a class="markdownIt-Anchor" href="#3-hashmap源码分析"></a> 3 HashMap源码分析</h1>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://destiny0118.github.io/2024/06/11/%E6%A1%86%E6%9E%B6/%E5%88%86%E5%B8%83%E5%BC%8F/ZooKeeper/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Destiny">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
      <meta itemprop="description" content="凡是过去，皆为序章。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 我的个人博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/11/%E6%A1%86%E6%9E%B6/%E5%88%86%E5%B8%83%E5%BC%8F/ZooKeeper/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2024-06-11 16:36:39 / 修改时间：20:09:47" itemprop="dateCreated datePublished" datetime="2024-06-11T16:36:39+08:00">2024-06-11</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="1-zab"><a class="markdownIt-Anchor" href="#1-zab"></a> 1 ZAB</h1>
<h2 id="11-raft算法和zab算法的异同点"><a class="markdownIt-Anchor" href="#11-raft算法和zab算法的异同点"></a> 1.1 Raft算法和ZAB算法的异同点</h2>
<table>
<thead>
<tr>
<th>Leader选举</th>
<th>选举已提交(commit)最大编号日志所在节点</th>
<th>选举最大ZXID的Proposal(含未提交)所在节点</th>
</tr>
</thead>
<tbody>
<tr>
<td>新Leader是否提交前任Leader未提交的消息</td>
<td>提交</td>
<td>提交</td>
</tr>
<tr>
<td>Leader数量</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>Quorum作用范围</td>
<td>Leader任内有效，以自身消息为准</td>
<td>Leader任内有效，以自身消息为准</td>
</tr>
</tbody>
</table>
<h1 id="2-zookeeper理论知识"><a class="markdownIt-Anchor" href="#2-zookeeper理论知识"></a> 2 Zookeeper理论知识</h1>
<h2 id="21-数据模型"><a class="markdownIt-Anchor" href="#21-数据模型"></a> 2.1 数据模型</h2>
<p><strong>使用了 <code>znode</code> 作为数据节点</strong> 。<code>znode</code> 是 <code>zookeeper</code> 中的最小数据单元，每个 <code>znode</code> 上都可以保存数据，同时还可以挂载子节点，形成一个树形化命名空间。</p>
<p>每个 <code>znode</code> 都有自己所属的 <strong>节点类型</strong> 和 <strong>节点状态</strong>。</p>
<p>其中节点类型可以分为 <strong>持久节点</strong>、<strong>持久顺序节点</strong>、<strong>临时节点</strong> 和 <strong>临时顺序节点</strong>。</p>
<ul>
<li>持久节点：一旦创建就一直存在，直到将其删除。</li>
<li>持久顺序节点：一个父节点可以为其子节点 <strong>维护一个创建的先后顺序</strong> ，这个顺序体现在 <strong>节点名称</strong> 上，是节点名称后自动添加一个由 10 位数字组成的数字串，从 0 开始计数。</li>
<li>临时节点：临时节点的生命周期是与 <strong>客户端会话</strong> 绑定的，<strong>会话消失则节点消失</strong> 。临时节点 <strong>只能做叶子节点</strong> ，不能创建子节点。</li>
<li>临时顺序节点：父节点可以创建一个维持了顺序的临时节点(和前面的持久顺序性节点一样)。</li>
</ul>
<h2 id="22-会话"><a class="markdownIt-Anchor" href="#22-会话"></a> 2.2 会话</h2>
<h2 id="23-acl"><a class="markdownIt-Anchor" href="#23-acl"></a> 2.3 ACL</h2>
<h2 id="24-watcher机制"><a class="markdownIt-Anchor" href="#24-watcher机制"></a> 2.4 Watcher机制</h2>
<p><code>Watcher</code> 为事件监听器，是 <code>zk</code> 非常重要的一个特性，很多功能都依赖于它，它有点类似于订阅的方式，即客户端向服务端 <strong>注册</strong> 指定的 <code>watcher</code> ，当服务端符合了 <code>watcher</code> 的某些事件或要求则会 <strong>向客户端发送事件通知</strong> ，客户端收到通知后找到自己定义的 <code>Watcher</code> 然后 <strong>执行相应的回调方法</strong> 。</p>
<p><img src="https://cdn.jsdelivr.net/gh/destiny0118/picgo/pic2023/202406111701144.png" alt="image.png" /></p>
<h1 id="3-zookeeper应用场景"><a class="markdownIt-Anchor" href="#3-zookeeper应用场景"></a> 3 Zookeeper应用场景</h1>
<h2 id="31-选主"><a class="markdownIt-Anchor" href="#31-选主"></a> 3.1 选主</h2>
<h2 id="32-数据发布订阅"><a class="markdownIt-Anchor" href="#32-数据发布订阅"></a> 3.2 数据发布/订阅</h2>
<h2 id="33-分布式锁"><a class="markdownIt-Anchor" href="#33-分布式锁"></a> 3.3 分布式锁</h2>
<p><code>创建节点的唯一性</code>，我们可以让多个客户端同时创建一个临时节点，<strong>创建成功的就说明获取到了锁</strong> 。然后没有获取到锁的客户端也像上面选主的非主节点创建一个 <code>watcher</code> 进行节点状态的监听，如果这个互斥锁被释放了（可能获取锁的客户端宕机了，或者那个客户端主动释放了锁）可以调用回调函数重新获得锁。</p>
<p>::: tips<br />
共享锁和独占锁<br />
:::</p>
<p><code>有序的节点</code><br />
规定所有创建节点必须有序，当你是读请求（要获取共享锁）的话，如果 <strong>没有比自己更小的节点，或比自己小的节点都是读请求</strong> ，则可以获取到读锁，然后就可以开始读了。<strong>若比自己小的节点中有写请求</strong> ，则当前客户端无法获取到读锁，只能等待前面的写请求完成。</p>
<p>如果你是写请求（获取独占锁），若 <strong>没有比自己更小的节点</strong> ，则表示当前客户端可以直接获取到写锁，对数据进行修改。若发现 <strong>有比自己更小的节点，无论是读操作还是写操作，当前客户端都无法获取到写锁</strong> ，等待所有前面的操作完成。</p>
<p>这就很好地同时实现了共享锁和独占锁，当然还有优化的地方，比如当一个锁得到释放它会通知所有等待的客户端从而造成 <strong>羊群效应</strong> 。此时你可以通过让等待的节点只监听他们前面的节点。</p>
<p><strong>读请求监听比自己小的最后一个写请求节点，写请求只监听比自己小的最后一个节点</strong></p>
<h2 id="34-命名服务"><a class="markdownIt-Anchor" href="#34-命名服务"></a> 3.4 命名服务</h2>
<h2 id="35-集群管理和注册中心"><a class="markdownIt-Anchor" href="#35-集群管理和注册中心"></a> 3.5 集群管理和注册中心</h2>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://destiny0118.github.io/2024/06/11/%E6%A1%86%E6%9E%B6/%E5%88%86%E5%B8%83%E5%BC%8F/RPC%EF%BC%9ADubbo%E3%80%81gRPC%E3%80%81HSF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Destiny">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
      <meta itemprop="description" content="凡是过去，皆为序章。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 我的个人博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/11/%E6%A1%86%E6%9E%B6/%E5%88%86%E5%B8%83%E5%BC%8F/RPC%EF%BC%9ADubbo%E3%80%81gRPC%E3%80%81HSF/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-06-11 16:04:48" itemprop="dateCreated datePublished" datetime="2024-06-11T16:04:48+08:00">2024-06-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-08-23 22:55:28" itemprop="dateModified" datetime="2024-08-23T22:55:28+08:00">2024-08-23</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <ul>
<li>服务注册</li>
<li>服务发现</li>
<li>服务治理</li>
</ul>
<h1 id="1-rpc"><a class="markdownIt-Anchor" href="#1-rpc"></a> 1 RPC</h1>
<h2 id="11-分布式系统和微服务系统"><a class="markdownIt-Anchor" href="#11-分布式系统和微服务系统"></a> 1.1 分布式系统和微服务系统</h2>
<h1 id="2-dubbohsf"><a class="markdownIt-Anchor" href="#2-dubbohsf"></a> 2 Dubbo(HSF)</h1>
<h2 id="21-架构"><a class="markdownIt-Anchor" href="#21-架构"></a> 2.1 架构</h2>
<p>注册中心：注册中心负责服务地址的注册与查找，相当于目录服务，服务提供者和消费者只在启动时与注册中心交互。</p>
<h2 id="22-负载均衡策略"><a class="markdownIt-Anchor" href="#22-负载均衡策略"></a> 2.2 负载均衡策略</h2>
<h2 id="23-序列化协议"><a class="markdownIt-Anchor" href="#23-序列化协议"></a> 2.3 序列化协议</h2>
<p>JDK 自带的序列化、hessian2、JSON、Kryo、FST、Protostuff，ProtoBuf 等等。</p>
<blockquote>
<p>[!question] 如何解决重载问题？</p>
</blockquote>
<h1 id="3-rpc和http"><a class="markdownIt-Anchor" href="#3-rpc和http"></a> 3 RPC和HTTP</h1>
<p>现在电脑上装的各种联网软件，比如 xx 管家，xx 卫士，它们都作为客户端（Client） 需要跟服务端（Server） 建立连接收发消息，此时都会用到应用层协议，在这种 Client/Server (C/S) 架构下，它们可以使用自家造的 RPC 协议，因为它只管连自己公司的服务器就 ok 了。</p>
<p>但有个软件不同，浏览器（Browser） ，不管是 Chrome 还是 IE，它们不仅要能访问自家公司的<strong>服务器（Server）</strong> ，还需要访问其他公司的网站服务器，因此它们需要有个统一的标准，不然大家没法交流。于是，HTTP 就是那个时代用于统一 <strong>Browser/Server (B/S)</strong> 的协议。</p>
<p>也就是说在多年以前，<strong>HTTP 主要用于 B/S 架构，而 RPC 更多用于 C/S 架构。但现在其实已经没分那么清了，B/S 和 C/S 在慢慢融合。</strong> 很多软件同时支持多端，比如某度云盘，既要支持<strong>网页版</strong>，还要支持<strong>手机端和 PC 端</strong>，如果通信协议都用 HTTP 的话，那服务器只用同一套就够了。而 RPC 就开始退居幕后，一般用于公司内部集群里，各个微服务之间的通讯。</p>
<h2 id="31-http和rpc区别"><a class="markdownIt-Anchor" href="#31-http和rpc区别"></a> 3.1 HTTP和RPC区别</h2>
<p>浏览器-服务器<br />
客户端-服务端</p>
<p>重载实现</p>
<h3 id="311-服务发现"><a class="markdownIt-Anchor" href="#311-服务发现"></a> 3.1.1 服务发现</h3>
<p>首先要向某个服务器发起请求，你得先建立连接，而建立连接的前提是，你得知道 <strong>IP 地址和端口</strong> 。这个找到服务对应的 IP 端口的过程，其实就是 <strong>服务发现</strong>。</p>
<p>在 <strong>HTTP</strong> 中，你知道服务的域名，就可以通过 <strong>DNS 服务</strong> 去解析得到它背后的 IP 地址，默认 <strong>80 端口</strong>。</p>
<p>而 <strong>RPC</strong> 的话，就有些区别，一般会有专门的中间服务去保存服务名和 IP 信息，比如 <strong>Consul、Etcd、Nacos、ZooKeeper，甚至是 Redis</strong>。想要访问某个服务，就去这些中间服务去获得 IP 和端口信息。由于 DNS 也是服务发现的一种，所以也有基于 DNS 去做服务发现的组件，比如 <strong>CoreDNS</strong>。</p>
<p>可以看出服务发现这一块，两者是有些区别，但不太能分高低。</p>
<h3 id="312-底层连接方式"><a class="markdownIt-Anchor" href="#312-底层连接方式"></a> 3.1.2 底层连接方式</h3>
<p>以主流的 <strong>HTTP1.1</strong> 协议为例，其默认在建立底层 TCP 连接之后会一直保持这个连接（<strong>keep alive</strong>），之后的请求和响应都会复用这条连接。</p>
<p>而 <strong>RPC</strong> 协议，也跟 HTTP 类似，也是通过建立 TCP 长链接进行数据交互，但不同的地方在于，RPC 协议一般还会再建个 <strong>连接池</strong>，在请求量大的时候，建立多条连接放在池内，要发数据的时候就从池里取一条连接出来，用完放回去，下次再复用，可以说非常环保。</p>
<p><img src="https://cdn.jsdelivr.net/gh/destiny0118/picgo/pic2023/202407302303572.png" alt="image.png" /></p>
<h3 id="313-传输的内容"><a class="markdownIt-Anchor" href="#313-传输的内容"></a> 3.1.3 传输的内容</h3>
<p>基于 TCP 传输的消息，说到底，无非都是 <strong>消息头 Header 和消息体 Body。</strong></p>
<p><strong>Header</strong> 是用于标记一些特殊信息，其中最重要的是 <strong>消息体长度</strong>。</p>
<p><strong>Body</strong> 则是放我们真正需要传输的内容，而这些内容只能是二进制 01 串，毕竟计算机只认识这玩意。所以 TCP 传字符串和数字都问题不大，因为字符串可以转成编码再变成 01 串，而数字本身也能直接转为二进制。但结构体呢，我们得想个办法将它也转为二进制 01 串，这样的方案现在也有很多现成的，比如 <strong>JSON，Protocol Buffers (Protobuf)</strong> 。</p>
<p>这个将结构体转为二进制数组的过程就叫 <strong>序列化</strong> ，反过来将二进制数组复原成结构体的过程叫 <strong>反序列化</strong>。</p>
<h1 id="4-参考"><a class="markdownIt-Anchor" href="#4-参考"></a> 4 参考</h1>
<p><a href="https://javaguide.cn/distributed-system/rpc/http_rpc.html">有了 HTTP 协议，为什么还要有 RPC ？ | JavaGuide</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://destiny0118.github.io/2024/06/05/%E9%A1%B9%E7%9B%AE/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E5%BA%A6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Destiny">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
      <meta itemprop="description" content="凡是过去，皆为序章。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 我的个人博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/05/%E9%A1%B9%E7%9B%AE/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E5%BA%A6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-06-05 21:35:08" itemprop="dateCreated datePublished" datetime="2024-06-05T21:35:08+08:00">2024-06-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-06-20 16:11:34" itemprop="dateModified" datetime="2024-06-20T16:11:34+08:00">2024-06-20</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="1-项目难点"><a class="markdownIt-Anchor" href="#1-项目难点"></a> 1 项目难点</h1>
<p>对于业务场景项目，很多人自嘲增产改查。在具体去实现的时候，发现确实有些如此，但是这都是在项目成熟之后。难点在于从需求中最初对于整个项目结构、架构等的设计，从需求中分析出核心功能，在确定了核心功能，围绕功能的具体逻辑实现反而简单许多</p>
<h2 id="11-快照每一天的活动状态可追溯"><a class="markdownIt-Anchor" href="#11-快照每一天的活动状态可追溯"></a> 1.1 快照，每一天的活动状态可追溯</h2>
<p>方案一：每一天通过定时任务记录所有项目的状态<br />
快照点+状态变更（涉及到延期申请等，无法依据数据库的实际结束时间进行判断）</p>
<h2 id="12-多条件查询"><a class="markdownIt-Anchor" href="#12-多条件查询"></a> 1.2 多条件查询</h2>
<ul>
<li>动态SQL语句</li>
<li>定义查询条件参数，过滤后封装传递给SQL语句</li>
<li>Mybatis-plus插件</li>
</ul>
<p>某一条件设置查询条件<br />
某一条件未设置查询条件</p>
<h2 id="13-统计显示"><a class="markdownIt-Anchor" href="#13-统计显示"></a> 1.3 统计显示</h2>
<p>考核日前查当月统计结果是当前查，考核日后查当月统计结果是快照查，考核日后的状态变更与当月无关，记录到下一个月中<br />
当前项目状态统计<br />
历史归档状态统计</p>
<p>跨考核日节点的统计</p>
<h1 id="2-领域"><a class="markdownIt-Anchor" href="#2-领域"></a> 2 领域</h1>
<p>项目上报、项目审批、项目状态变更、延期申请、延期审批、项目进度展示、数据统计<br />
用户权限配置、项目填报、项目审核、延期申请、延期审核、项目展示、统计界面</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://destiny0118.github.io/2024/06/05/%E6%A1%86%E6%9E%B6/%E6%89%8B%E6%92%95%E9%A2%98%E7%9B%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Destiny">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
      <meta itemprop="description" content="凡是过去，皆为序章。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 我的个人博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/05/%E6%A1%86%E6%9E%B6/%E6%89%8B%E6%92%95%E9%A2%98%E7%9B%AE/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-06-05 20:27:03" itemprop="dateCreated datePublished" datetime="2024-06-05T20:27:03+08:00">2024-06-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-09-23 20:38:08" itemprop="dateModified" datetime="2024-09-23T20:38:08+08:00">2024-09-23</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>【题目1】生产者消费者 <br />
【题目2】实现BASE256编码 <br />
【题目3】实现数字的16、8进制输出，10位长度，不足补0</p>
<p>【题目4】一对兔子，3个月后每个月产出一对兔子，n个月之后的兔子数量<br />
<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>+</mo><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(n)=f(n-1)+f(n-2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span></span></p>
<p>有一个文件，文件内容是E-Mail地址，已知文件大小约2GB，每行一个E-Mail地址， 但有部分E-Mail地址是重复的，现在有一台VM，VM内存为1GB，业务需要向这些 E-Mail发送邮件，但不能重复发，所以需要写一个程序对E-Mail地址进行去重。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://destiny0118.github.io/2024/06/03/Java/Java%20API/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Destiny">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
      <meta itemprop="description" content="凡是过去，皆为序章。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 我的个人博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/03/Java/Java%20API/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-06-03 21:16:13" itemprop="dateCreated datePublished" datetime="2024-06-03T21:16:13+08:00">2024-06-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-08-27 22:29:05" itemprop="dateModified" datetime="2024-08-27T22:29:05+08:00">2024-08-27</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="1-自定义排序"><a class="markdownIt-Anchor" href="#1-自定义排序"></a> 1 自定义排序</h1>
<pre class="highlight"><code class="java">    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;
        <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">largestNumber</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] nums)</span> </span>&#123;
            <span class="hljs-keyword">int</span> n=nums.length;
            Integer[] arr=<span class="hljs-keyword">new</span> Integer[n];
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;
                arr[i]=nums[i];
            &#125;
            <span class="hljs-comment">//从大到小排序</span>
            Arrays.sort(arr,(x,y)-&gt;&#123;
                <span class="hljs-keyword">long</span> sx=<span class="hljs-number">10</span>,sy=<span class="hljs-number">10</span>;
                <span class="hljs-keyword">while</span>(sx&lt;=x)&#123;
                    sx=sx*<span class="hljs-number">10</span>;
                &#125;
                <span class="hljs-keyword">while</span>(sy&lt;=y)&#123;sy=sy*<span class="hljs-number">10</span>;&#125;

                <span class="hljs-keyword">return</span> (<span class="hljs-keyword">int</span>) (y*sx+x-(x*sy+y));
            &#125;);

            <span class="hljs-keyword">if</span>(arr[<span class="hljs-number">0</span>]==<span class="hljs-number">0</span>)&#123;
                <span class="hljs-keyword">return</span> <span class="hljs-string">"0"</span>;
            &#125;
            StringBuilder sb = <span class="hljs-keyword">new</span> StringBuilder();
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> num:arr)&#123;
                sb.append(num);
            &#125;
            <span class="hljs-keyword">return</span> sb.toString();
        &#125;
    &#125;
</code></pre>
<h1 id="2-数组"><a class="markdownIt-Anchor" href="#2-数组"></a> 2 数组</h1>
<pre class="highlight"><code class="java"><span class="hljs-comment">//二维数组</span>
List&lt;<span class="hljs-keyword">int</span>[]&gt;[] g=<span class="hljs-keyword">new</span> ArrayList[n];
Arrays.setAll(g,i-&gt;<span class="hljs-keyword">new</span> ArrayList&lt;&gt;());


<span class="hljs-comment">//排序</span>
<span class="hljs-keyword">int</span>[][] points;
Arrays.sort(points,(a,b)-&gt;Integer.compare(a[<span class="hljs-number">0</span>],b[<span class="hljs-number">0</span>]));

<span class="hljs-keyword">int</span>[][] grid;
<span class="hljs-keyword">int</span> m=grid.length,n=grid[<span class="hljs-number">0</span>].length;
<span class="hljs-keyword">int</span>[] row=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[m];
<span class="hljs-keyword">int</span>[] col=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[n];


<span class="hljs-keyword">int</span>[] nums=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[n];
<span class="hljs-comment">// Arrays.stream(nums).sum();</span>
<span class="hljs-keyword">int</span> n=nums.length;
Arrays.fill(nums,<span class="hljs-number">1</span>);


<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[]&#123;-<span class="hljs-number">1</span>,-<span class="hljs-number">1</span>&#125;;


<span class="hljs-comment">//数组排序</span>
<span class="hljs-keyword">int</span>[] nums;
Arrays.sort(nums);
</code></pre>
<table>
<thead>
<tr>
<th>操作</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>nums.set(index,last)</td>
<td>设置Index下标元素值</td>
</tr>
<tr>
<td>nums.remove(index)</td>
<td></td>
</tr>
<tr>
<td>nums.size()</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h1 id="3-list"><a class="markdownIt-Anchor" href="#3-list"></a> 3 List</h1>
<pre class="highlight"><code class="java"><span class="hljs-comment">//二维数组</span>
List&lt;List&lt;Integer&gt;&gt; ans=<span class="hljs-keyword">new</span> ArrayList&lt;List&lt;Integer&gt;&gt;();
</code></pre>
<h1 id="4-string"><a class="markdownIt-Anchor" href="#4-string"></a> 4 String</h1>
<pre class="highlight"><code class="java">String s;
<span class="hljs-comment">//获取长度</span>
s.length();

<span class="hljs-comment">//某一下标字符</span>
s.charAt(index);

<span class="hljs-comment">//去掉最后一个字符</span>
StringBuilder s=<span class="hljs-keyword">new</span> StringBuilder();
s.deleteCharAt(s.length()-<span class="hljs-number">1</span>);
</code></pre>
<h1 id="5-map"><a class="markdownIt-Anchor" href="#5-map"></a> 5 Map</h1>
<table>
<thead>
<tr>
<th>操作</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>s.containsKey(val)</td>
<td></td>
</tr>
<tr>
<td>s.remove(key)</td>
<td></td>
</tr>
<tr>
<td>s.get(key)</td>
<td></td>
</tr>
</tbody>
</table>
<pre class="highlight"><code class="java">  Map&lt;Character, Character&gt; pairs = <span class="hljs-keyword">new</span> HashMap&lt;Character, Character&gt;() &lt;!--swig￼<span class="hljs-number">0</span>--&gt;;
</code></pre>
<h1 id="6-set"><a class="markdownIt-Anchor" href="#6-set"></a> 6 Set</h1>
<table>
<thead>
<tr>
<th>操作</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Set&lt;Character&gt; s=new HashSet()</td>
<td></td>
</tr>
<tr>
<td>s.contains(ch)</td>
<td></td>
</tr>
<tr>
<td>s.add(ch)</td>
<td>s中包含ch，返回false</td>
</tr>
<tr>
<td>s.remove(ch)</td>
<td></td>
</tr>
</tbody>
</table>
<h1 id="7-stack"><a class="markdownIt-Anchor" href="#7-stack"></a> 7 Stack</h1>
<pre class="highlight"><code class="java"> Deque&lt;Character&gt; stack=<span class="hljs-keyword">new</span> LinkedList&lt;Character&gt;();
 stack.isEmpty()
 stack.peek()
 stack.pop()
 stack.push(ch)
</code></pre>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://destiny0118.github.io/2024/05/29/%E6%A1%86%E6%9E%B6/%E9%AB%98%E6%80%A7%E8%83%BD&%E9%AB%98%E5%8F%AF%E7%94%A8/%E6%9C%8D%E5%8A%A1%E7%86%94%E6%96%AD%E3%80%81%E6%9C%8D%E5%8A%A1%E9%99%8D%E7%BA%A7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Destiny">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
      <meta itemprop="description" content="凡是过去，皆为序章。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 我的个人博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/05/29/%E6%A1%86%E6%9E%B6/%E9%AB%98%E6%80%A7%E8%83%BD&%E9%AB%98%E5%8F%AF%E7%94%A8/%E6%9C%8D%E5%8A%A1%E7%86%94%E6%96%AD%E3%80%81%E6%9C%8D%E5%8A%A1%E9%99%8D%E7%BA%A7/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2024-05-29 15:54:40 / 修改时间：15:59:02" itemprop="dateCreated datePublished" datetime="2024-05-29T15:54:40+08:00">2024-05-29</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="1-服务熔断"><a class="markdownIt-Anchor" href="#1-服务熔断"></a> 1 服务熔断</h1>
<p>服务熔断（Circuit Breaker）是一种用于构建分布式系统的设计模式，用于增强系统的稳定性和可靠性。服务熔断的核心思想是在出现服务故障或异常时，及时地中断对该服务的请求，防止故障进一步扩散，并且允许系统在出现问题时快速失败而不是无限期地等待响应。</p>
<p>服务熔断的用途和优势包括：</p>
<ol>
<li>
<p><strong>防止级联故障：</strong> 当某个服务或组件出现故障时，服务熔断可以快速地停止对该服务的请求，防止故障扩散到其他部分，从而保护整个系统的稳定性。</p>
</li>
<li>
<p><strong>快速失败：</strong> 服务熔断允许系统在出现问题时快速失败，而不是等待超时，这可以减少用户等待时间，并快速释放资源以减轻系统负担。</p>
</li>
<li>
<p><strong>降级处理：</strong> 当服务熔断触发时，可以采取降级处理策略，例如返回预先定义的默认值、执行备用逻辑或者从缓存中获取数据，以保证系统的基本功能继续可用。</p>
</li>
<li>
<p><strong>自我修复：</strong> 当服务熔断一段时间后，可以尝试重新发起请求，如果服务恢复正常，则关闭熔断器，继续正常提供服务。</p>
</li>
</ol>
<p>常见问题和挑战包括：</p>
<ol>
<li>
<p><strong>熔断器状态管理：</strong> 需要有效地管理熔断器的状态，包括打开、关闭和半开状态的切换，以及对状态的监控和调整，确保熔断器的行为符合预期。</p>
</li>
<li>
<p><strong>故障诊断和处理：</strong> 需要及时地检测和诊断服务的故障，并采取相应的措施进行处理，例如记录错误日志、发送警报通知等。</p>
</li>
<li>
<p><strong>降级策略设计：</strong> 需要设计合适的降级处理策略，以保证在服务熔断时系统依然能够提供基本的功能，而不影响用户体验。</p>
</li>
<li>
<p><strong>性能影响：</strong> 在服务熔断时，可能会增加系统的负载和响应时间，因此需要合理评估熔断器的触发条件和恢复机制，以减少性能影响。</p>
</li>
</ol>
<p>总的来说，服务熔断是一种重要的分布式系统设计模式，通过及时地中断对故障服务的请求，可以提高系统的稳定性和可靠性，但同时也需要综合考虑各种因素，合理设计和管理熔断策略，以确保系统的正常运行。</p>
<h1 id="2-服务降级"><a class="markdownIt-Anchor" href="#2-服务降级"></a> 2 服务降级</h1>
<p>服务降级（Service Degradation）是一种在面对系统资源不足或者系统负载过大时，为了保证系统的核心功能或者关键服务的可用性而采取的一种策略。服务降级的核心思想是在系统压力过大时，有选择性地降低非核心或次要功能的服务质量，以确保系统的核心功能仍然能够正常运行。</p>
<p>服务降级的目的在于保证系统在遇到异常或高负载情况下仍能够提供基本的服务能力，从而提高系统的稳定性和可用性。在实际应用中，服务降级通常伴随着一些特定的策略和实践，例如：</p>
<ol>
<li>
<p><strong>优先级划分：</strong> 将系统中的功能和服务按照其重要性和优先级进行划分，确保核心功能拥有更高的优先级，并在资源不足时优先保证核心功能的运行。</p>
</li>
<li>
<p><strong>限流和限速：</strong> 通过限制对系统的访问速率或者并发请求数量，以防止系统过载，从而减轻系统负载压力。</p>
</li>
<li>
<p><strong>降级策略设计：</strong> 设计合适的降级策略，当系统资源不足或者系统负载过大时，有选择性地降低非核心功能或次要功能的服务质量，例如降低服务响应时间、减少服务数据的返回量等。</p>
</li>
<li>
<p><strong>实时监控和调整：</strong> 实时监控系统的负载情况和性能指标，根据实际情况动态调整降级策略，以确保系统的稳定性和性能表现。</p>
</li>
</ol>
<p>服务降级的优点包括：</p>
<ul>
<li>
<p><strong>提高系统的稳定性：</strong> 在面对异常情况或者高负载情况时，通过降级非核心功能或次要功能的服务质量，可以确保系统的核心功能仍能够正常运行，从而提高系统的稳定性。</p>
</li>
<li>
<p><strong>保证核心功能的可用性：</strong> 通过有选择性地降级非核心功能或次要功能，可以确保系统的核心功能在异常或高负载情况下仍能够提供基本的服务能力，从而保证核心功能的可用性。</p>
</li>
<li>
<p><strong>减少系统压力：</strong> 通过降级非核心功能或次要功能的服务质量，可以减少系统的负载压力，从而提高系统的整体性能和响应速度。</p>
</li>
</ul>
<p>服务降级也存在一些潜在的缺点</p>
<ul>
<li>
<p>可能影响用户体验</p>
</li>
<li>
<p>需要精细的策略设计和实时监控</p>
</li>
<li>
<p>可能引起业务方面的不满等。 因此，在实施服务降级策略时，需要综合考虑各种因素，并设计合理的降级策略，以确保系统的整体性能和用户体验。</p>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://destiny0118.github.io/2024/05/27/%E6%A1%86%E6%9E%B6/Spring/Spring%EF%BC%9A%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Destiny">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
      <meta itemprop="description" content="凡是过去，皆为序章。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 我的个人博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/05/27/%E6%A1%86%E6%9E%B6/Spring/Spring%EF%BC%9A%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" class="post-title-link" itemprop="url">Spring：设计模式</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-05-27 00:00:00" itemprop="dateCreated datePublished" datetime="2024-05-27T00:00:00+08:00">2024-05-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-06-14 15:17:31" itemprop="dateModified" datetime="2024-06-14T15:17:31+08:00">2024-06-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%A1%86%E6%9E%B6/" itemprop="url" rel="index"><span itemprop="name">框架</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <ul>
<li><strong>工厂设计模式</strong> : Spring 使用工厂模式通过 <code>BeanFactory</code>、<code>ApplicationContext</code> 创建 bean 对象。</li>
<li><strong>代理设计模式</strong> : Spring AOP 功能的实现。</li>
<li><strong>单例设计模式</strong> : Spring 中的 Bean 默认都是单例的。</li>
<li><strong>模板方法模式</strong> : Spring 中 <code>jdbcTemplate</code>、<code>hibernateTemplate</code> 等以 Template 结尾的对数据库操作的类，它们就使用到了模板模式。</li>
<li><strong>包装器设计模式</strong> : 我们的项目需要连接多个数据库，而且不同的客户在每次访问中根据需要会去访问不同的数据库。这种模式让我们可以根据客户的需求能够动态切换不同的数据源。</li>
<li><strong>观察者模式:</strong> Spring 事件驱动模型就是观察者模式很经典的一个应用。</li>
<li><strong>适配器模式</strong> :Spring AOP 的增强或通知(Advice)使用到了适配器模式、spring MVC 中也是用到了适配器模式适配<code>Controller</code>。</li>
</ul>
<h1 id="1-工厂设计模式"><a class="markdownIt-Anchor" href="#1-工厂设计模式"></a> 1 工厂设计模式</h1>
<p>Spring 使用工厂模式可以通过 <code>BeanFactory</code> 或 <code>ApplicationContext</code> 创建 bean 对象。</p>
<p><strong>两者对比：</strong></p>
<ul>
<li><code>BeanFactory</code>：延迟注入(使用到某个 bean 的时候才会注入),相比于<code>ApplicationContext</code> 来说会占用更少的内存，程序启动速度更快。</li>
<li><code>ApplicationContext</code>：容器启动的时候，不管你用没用到，一次性创建所有 bean 。<code>BeanFactory</code> 仅提供了最基本的依赖注入支持，<code>ApplicationContext</code> 扩展了 <code>BeanFactory</code> ,除了有<code>BeanFactory</code>的功能还有额外更多功能</li>
</ul>
<h1 id="2-单例设计模式"><a class="markdownIt-Anchor" href="#2-单例设计模式"></a> 2 单例设计模式</h1>
<p>在我们的系统中，有一些对象其实我们只需要一个，比如说：线程池、缓存、对话框、注册表、日志对象、充当打印机、显卡等设备驱动程序的对象。事实上，这一类对象只能有一个实例，如果制造出多个实例就可能会导致一些问题的产生，比如：程序的行为异常、资源使用过量、或者不一致性的结果。</p>
<p><strong>使用单例模式的好处</strong> :</p>
<ul>
<li>对于频繁使用的对象，可以省略创建对象所花费的时间，这对于那些重量级对象而言，是非常可观的一笔系统开销；</li>
<li>由于 new 操作的次数减少，因而对系统内存的使用频率也会降低，这将减轻 GC 压力，缩短 GC 停顿时间。</li>
</ul>
<h1 id="3-代理设计模式"><a class="markdownIt-Anchor" href="#3-代理设计模式"></a> 3 代理设计模式</h1>
<h2 id="31-代理模式在aop中的应用"><a class="markdownIt-Anchor" href="#31-代理模式在aop中的应用"></a> 3.1 代理模式在AOP中的应用</h2>
<p><strong>AOP(Aspect-Oriented Programming，面向切面编程)</strong> 能够将那些与业务无关，却为业务模块所共同调用的逻辑或责任（例如事务处理、日志管理、权限控制等）封装起来，便于减少系统的重复代码，降低模块间的耦合度，并有利于未来的可拓展性和可维护性。</p>
<p><strong>Spring AOP 就是基于动态代理的</strong>，如果要代理的对象，实现了某个接口，那么 Spring AOP 会使用 <strong>JDK Proxy</strong> 去创建代理对象，而对于没有实现接口的对象，就无法使用 JDK Proxy 去进行代理了，这时候 Spring AOP 会使用 <strong>Cglib</strong> 生成一个被代理对象的子类来作为代理，如下图所示：</p>
<p><img src="https://cdn.jsdelivr.net/gh/destiny0118/picgo/pic2023/202405271127753.png" alt="image.png" /></p>
<h2 id="32-spring-aop和aspectj-aop"><a class="markdownIt-Anchor" href="#32-spring-aop和aspectj-aop"></a> 3.2 Spring AOP和AspectJ AOP</h2>
<p><strong>Spring AOP 属于运行时增强，而 AspectJ 是编译时增强。</strong> Spring AOP 基于代理(Proxying)，而 AspectJ 基于字节码操作(Bytecode Manipulation)。</p>
<p>Spring AOP 已经集成了 AspectJ ，AspectJ 应该算的上是 Java 生态系统中最完整的 AOP 框架了。AspectJ 相比于 Spring AOP 功能更加强大，但是 Spring AOP 相对来说更简单，</p>
<h1 id="4-模板方法"><a class="markdownIt-Anchor" href="#4-模板方法"></a> 4 模板方法</h1>
<p>模板方法模式是一种行为设计模式，它定义一个操作中的算法的骨架，而将一些步骤延迟到子类中。 模板方法使得子类可以不改变一个算法的结构即可重定义该算法的某些特定步骤的实现方式。</p>
<h1 id="5-观察者模式"><a class="markdownIt-Anchor" href="#5-观察者模式"></a> 5 观察者模式</h1>
<h1 id="6-适配器模式"><a class="markdownIt-Anchor" href="#6-适配器模式"></a> 6 适配器模式</h1>
<h1 id="7-装饰者模式"><a class="markdownIt-Anchor" href="#7-装饰者模式"></a> 7 装饰者模式</h1>
<h1 id="8-参考"><a class="markdownIt-Anchor" href="#8-参考"></a> 8 参考</h1>
<p><a href="https://javaguide.cn/system-design/framework/spring/spring-design-patterns-summary.html">Spring 中的设计模式详解 | JavaGuide</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://destiny0118.github.io/2024/05/24/%E6%A1%86%E6%9E%B6/Java%E5%B9%B6%E5%8F%91/Java%E5%B9%B6%E5%8F%91(6)%EF%BC%9A%E5%88%9B%E5%BB%BA%E7%BA%BF%E7%A8%8B%E3%80%81%E7%BA%BF%E7%A8%8B%E6%B1%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Destiny">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
      <meta itemprop="description" content="凡是过去，皆为序章。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 我的个人博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/05/24/%E6%A1%86%E6%9E%B6/Java%E5%B9%B6%E5%8F%91/Java%E5%B9%B6%E5%8F%91(6)%EF%BC%9A%E5%88%9B%E5%BB%BA%E7%BA%BF%E7%A8%8B%E3%80%81%E7%BA%BF%E7%A8%8B%E6%B1%A0/" class="post-title-link" itemprop="url">Java并发(6)：创建线程、线程池</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-05-24 00:00:00" itemprop="dateCreated datePublished" datetime="2024-05-24T00:00:00+08:00">2024-05-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-06-11 21:38:31" itemprop="dateModified" datetime="2024-06-11T21:38:31+08:00">2024-06-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="1-创建线程方式"><a class="markdownIt-Anchor" href="#1-创建线程方式"></a> 1 创建线程方式</h1>
<pre class="highlight"><code class="java"><span class="hljs-keyword">public</span> interfact Runnable&#123;
	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span></span>;
&#125;
</code></pre>
<h2 id="11-实现runnable接口"><a class="markdownIt-Anchor" href="#11-实现runnable接口"></a> 1.1 实现runnable接口</h2>
<blockquote>
<p>创建一个类实现Runnable接口，实现run方法，然后创建Thread类的实例，将实现了Runnable接口的对象作为参数传递给Thread的构造方法，并调用start方法启动线程。</p>
</blockquote>
<ol>
<li>将任务代码移到实现了Runnable接口的类的run方法中（由于Runnable 是一个函数式接口，可以用lambda 表达式建立一个实例）</li>
<li>用<code>Runnable</code>创建一个<code>Thread</code>对象</li>
<li>启动线程</li>
</ol>
<pre class="highlight"><code class="java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">demo1</span> </span>&#123;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span></span>&#123;
        Runnable r1=<span class="hljs-keyword">new</span> Runnable() &#123;
            <span class="hljs-meta">@Override</span>
            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>&#123;
                System.out.println(<span class="hljs-string">"任务开始"</span>);
            &#125;
        &#125;;
        Thread t1=<span class="hljs-keyword">new</span> Thread(r1);
        t1.start();

        Runnable r2=()-&gt;&#123;
            System.out.println(<span class="hljs-string">"lambda表达式：任务开始"</span>);
        &#125;;
        Thread t2=<span class="hljs-keyword">new</span> Thread(r2);
        t2.start();


        Thread t3=<span class="hljs-keyword">new</span> Thread(()-&gt;&#123;
            System.out.println(<span class="hljs-string">"在thread中lambda表达式"</span>);
        &#125;);
        t3.start();
    &#125;
&#125;
</code></pre>
<h2 id="12-继承thread类"><a class="markdownIt-Anchor" href="#12-继承thread类"></a> 1.2 继承Thread类</h2>
<blockquote>
<p>创建一个类继承自Thread类，并重写run方法，然后创建该类的实例并调用start方法启动线程。</p>
</blockquote>
<pre class="highlight"><code class="java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Thread</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Runnable</span></span>&#123;

&#125;
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyThread</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span></span>&#123;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span></span>&#123;
        System.out.println(<span class="hljs-string">"继承Thread类，重写run方法"</span>);
    &#125;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span></span>&#123;
        MyThread myThread=<span class="hljs-keyword">new</span> MyThread();
        myThread.start();
    &#125;
&#125;
</code></pre>
<h2 id="13-实现callable接口"><a class="markdownIt-Anchor" href="#13-实现callable接口"></a> 1.3 实现Callable接口</h2>
<pre class="highlight"><code class="java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Callable</span>&lt;<span class="hljs-title">V</span>&gt;</span>&#123;
	<span class="hljs-function">V <span class="hljs-title">call</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception</span>;
&#125;
</code></pre>
<ul>
<li>继承Callable实现call方法</li>
<li>FutureTask包装器将Callable转换成Future和Runnable</li>
</ul>
<pre class="highlight"><code class="java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CallableDemo</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Callable</span>&lt;<span class="hljs-title">String</span>&gt; </span>&#123;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">call</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Hello World"</span>;
    &#125;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;
        CallableDemo  callableDemo = <span class="hljs-keyword">new</span> CallableDemo();
        FutureTask&lt;String&gt; futureTask = <span class="hljs-keyword">new</span> FutureTask&lt;&gt;(callableDemo);
        Thread t=<span class="hljs-keyword">new</span> Thread(futureTask);
        t.start();
        System.out.println(futureTask.get());
    &#125;
&#125;
</code></pre>
<h1 id="2-线程池"><a class="markdownIt-Anchor" href="#2-线程池"></a> 2 线程池</h1>
<h2 id="21-newcachedthreadpool"><a class="markdownIt-Anchor" href="#21-newcachedthreadpool"></a> 2.1 <code>newCachedThreadPool</code></h2>
<p>创建一个可缓存的线程池，线程池的大小可根据需要进行自动扩展，但在某些情况下可能会回收线程。</p>
<pre class="highlight"><code class="java">ExecutorService executor = Executors.newCachedThreadPool();
</code></pre>
<h2 id="22-newfixedthreadpool"><a class="markdownIt-Anchor" href="#22-newfixedthreadpool"></a> 2.2 <code>newFixedThreadPool</code></h2>
<p>创建一个固定大小的线程池，线程数始终保持不变。</p>
<h2 id="23-newsinglethreadexecutor"><a class="markdownIt-Anchor" href="#23-newsinglethreadexecutor"></a> 2.3 <code>newSingleThreadExecutor</code></h2>
<ul>
<li>创建一个单线程的线程池，保证所有任务按照指定顺序（FIFO，LIFO，优先级）执行。</li>
</ul>
<h2 id="24-newscheduledthreadpool"><a class="markdownIt-Anchor" href="#24-newscheduledthreadpool"></a> 2.4 <code>newScheduledThreadPool</code></h2>
<ul>
<li>创建一个定时执行任务的线程池。</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="上一页" aria-label="上一页" href="/page/3/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/page/5/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Destiny</span>
  </div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
